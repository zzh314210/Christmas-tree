version: "3.8"

services:
  christmas-tree:
    build: .
    container_name: christmas-tree-app
    restart: always
    ports:
      - "8000:8000"
    # 注意：我删除了 source code volume (- ./:/app)，
    # 因为我们在 Dockerfile 里已经 build 了。
    # 如果挂载本地目录，会把容器里 build 好的 dist 文件夹覆盖掉。
    volumes:
      - /app/node_modules
    environment:
      # 请确保替换为你真实的 API KEY，否则祝福语功能无法使用
      - API_KEY=${API_KEY}
